{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import NoteForm from'./NoteForm';import'../CSS/NotesPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function NotesPage(){const[notes,setNotes]=useState([]);const[editingNote,setEditingNote]=useState(null);useEffect(()=>{const fetchNotes=async()=>{const token=localStorage.getItem('token');const response=await axios.get('/api/notes',{headers:{Authorization:`Bearer ${token}`}});setNotes(response.data);};fetchNotes();},[]);const handleSaveNote=async note=>{const token=localStorage.getItem('token');if(note._id){await axios.put(`/api/notes/${note._id}`,note,{headers:{Authorization:`Bearer ${token}`}});}else{await axios.post('/api/notes',note,{headers:{Authorization:`Bearer ${token}`}});}setEditingNote(null);const response=await axios.get('/api/notes',{headers:{Authorization:`Bearer ${token}`}});setNotes(response.data);};const handleEditNote=note=>{setEditingNote(note);};const handleDeleteNote=async id=>{const token=localStorage.getItem('token');await axios.delete(`/api/notes/${id}`,{headers:{Authorization:`Bearer ${token}`}});setNotes(notes.filter(note=>note._id!==id));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Notes\"}),/*#__PURE__*/_jsx(NoteForm,{note:editingNote,onSave:handleSaveNote}),/*#__PURE__*/_jsx(\"ul\",{children:notes.map(note=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:note.title}),/*#__PURE__*/_jsx(\"p\",{children:note.content}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditNote(note),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteNote(note._id),children:\"Delete\"})]},note._id))})]});}export default NotesPage;","map":{"version":3,"names":["React","useState","useEffect","axios","NoteForm","jsx","_jsx","jsxs","_jsxs","NotesPage","notes","setNotes","editingNote","setEditingNote","fetchNotes","token","localStorage","getItem","response","get","headers","Authorization","data","handleSaveNote","note","_id","put","post","handleEditNote","handleDeleteNote","id","delete","filter","children","onSave","map","title","content","onClick"],"sources":["/Users/jaishu/Desktop/Cloud-Assignment/Assignment 1/note-app-frontend/src/components/NotesPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport NoteForm from './NoteForm';\nimport '../CSS/NotesPage.css'\n\nfunction NotesPage() {\n  const [notes, setNotes] = useState([]);\n  const [editingNote, setEditingNote] = useState(null);\n\n  useEffect(() => {\n    const fetchNotes = async () => {\n      const token = localStorage.getItem('token');\n      const response = await axios.get('/api/notes', {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setNotes(response.data);\n    };\n    fetchNotes();\n  }, []);\n\n  const handleSaveNote = async (note) => {\n    const token = localStorage.getItem('token');\n    if (note._id) {\n      await axios.put(`/api/notes/${note._id}`, note, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n    } else {\n      await axios.post('/api/notes', note, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n    }\n    setEditingNote(null);\n    const response = await axios.get('/api/notes', {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    setNotes(response.data);\n  };\n\n  const handleEditNote = (note) => {\n    setEditingNote(note);\n  };\n\n  const handleDeleteNote = async (id) => {\n    const token = localStorage.getItem('token');\n    await axios.delete(`/api/notes/${id}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    setNotes(notes.filter((note) => note._id !== id));\n  };\n\n  return (\n    <div>\n      <h1>My Notes</h1>\n      <NoteForm note={editingNote} onSave={handleSaveNote} />\n      <ul>\n        {notes.map((note) => (\n          <li key={note._id}>\n            <h2>{note.title}</h2>\n            <p>{note.content}</p>\n            <button onClick={() => handleEditNote(note)}>Edit</button>\n            <button onClick={() => handleDeleteNote(note._id)}>Delete</button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default NotesPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}